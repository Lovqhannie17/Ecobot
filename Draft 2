!pip install pyTelegramBotAPI

import telebot
import random
from threading import Timer
from telebot.types import ReplyKeyboardMarkup, KeyboardButton

BOT_TOKEN = '8293676127:AAEhpAyVIAK-VQWe0hW8OunabrWZyAuF_o0'
bot = telebot.TeleBot(BOT_TOKEN)

waste_dict = {
    "–±—É—Ç—ã–ª–∫–∞": "–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞: –ø–ª–∞—Å—Ç–∏–∫ –∏–ª–∏ —Å—Ç–µ–∫–ª–æ ‚ôªÔ∏è",
    "–∂—É—Ä–Ω–∞–ª": "–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞: –±—É–º–∞–≥–∞ ‚ôªÔ∏è",
    "–±–∞–Ω–∞–Ω": "–û–±—ã—á–Ω–∞—è —É—Ä–Ω–∞ üóëÔ∏è",
    "–±–∞—Ç–∞—Ä–µ–π–∫–∞": "–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–±–æ—Ä ‚ö°",
    "–ø–∞–∫–µ—Ç": "–û–±—ã—á–Ω–∞—è —É—Ä–Ω–∞ üóëÔ∏è",
    "–∫–æ—Ä–æ–±–∫–∞": "–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞: –∫–∞—Ä—Ç–æ–Ω ‚ôªÔ∏è",
    "—Å—Ç–∞–∫–∞–Ω": "–û–±—ã—á–Ω–∞—è —É—Ä–Ω–∞ üóëÔ∏è",
    "–∂–µ—Å—Ç—è–Ω–∞—è –±–∞–Ω–∫–∞": "–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞: –º–µ—Ç–∞–ª–ª ‚ôªÔ∏è"
}

subscribed_users = set()

eco_tips = [
    "–ò—Å–ø–æ–ª—å–∑—É–π –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–µ —Å—É–º–∫–∏ –≤–º–µ—Å—Ç–æ –ø–ª–∞—Å—Ç–∏–∫–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤.",
    "–ó–∞–∫—Ä—ã–≤–∞–π –∫—Ä–∞–Ω –≤–æ –≤—Ä–µ–º—è —á–∏—Å—Ç–∫–∏ –∑—É–±–æ–≤.",
    "–°–æ—Ä—Ç–∏—Ä—É–π –º—É—Å–æ—Ä –¥–æ–º–∞.",
    "–ò—Å–ø–æ–ª—å–∑—É–π –ø–æ–≤—Ç–æ—Ä–Ω–æ —Å—Ç–µ–∫–ª—è–Ω–Ω—ã–µ –±–∞–Ω–∫–∏ –∏ –±—É—Ç—ã–ª–∫–∏.",
    "–ü–æ–∫—É–ø–∞–π –ø—Ä–æ–¥—É–∫—Ç—ã –±–µ–∑ –ª–∏—à–Ω–µ–π —É–ø–∞–∫–æ–≤–∫–∏.",
    "–í—ã–∫–ª—é—á–∞–π —Å–≤–µ—Ç –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫—É, –∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å.",
    "–°—Ç–∞—Ä–∞–π—Å—è –º–µ–Ω—å—à–µ –ø–µ—á–∞—Ç–∞—Ç—å –Ω–∞ –±—É–º–∞–≥–µ.",
    "–°–∞–¥–∏—Ç–µ –¥–µ—Ä–µ–≤—å—è –∏ —É—Ö–∞–∂–∏–≤–∞–π—Ç–µ –∑–∞ —Ä–∞—Å—Ç–µ–Ω–∏—è–º–∏.",
    "–ò—Å–ø–æ–ª—å–∑—É–π —ç–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ª–∞–º–ø—ã.",
    "–û—Ç–¥–∞–≤–∞–π —Å—Ç–∞—Ä—É—é –æ–¥–µ–∂–¥—É –Ω–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫—É –∏–ª–∏ –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å."
]

daily_reminders = [
    "–°–µ–≥–æ–¥–Ω—è –≤—ã–±—Ä–æ—Å—å –º—É—Å–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ!",
    "–ù–µ –∑–∞–±—É–¥—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –±—É—Ç—ã–ª–∫–∏ –∏ –±—É–º–∞–≥—É.",
    "–ü—Ä–æ–≤–µ—Ä—è–π, –µ—Å—Ç—å –ª–∏ –±–∞—Ç–∞—Ä–µ–π–∫–∏ –∏–ª–∏ –ª–∞–º–ø—ã –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–±–æ—Ä–∞.",
    "–ü–æ–ø—Ä–æ–±—É–π —Å–µ–≥–æ–¥–Ω—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—É—é —Å—É–º–∫—É –≤–º–µ—Å—Ç–æ –ø–ª–∞—Å—Ç–∏–∫–∞.",
    "–í—ã–∫–ª—é—á–∞–π —Å–≤–µ—Ç, –∫–æ–≥–¥–∞ –ø–æ–∫–∏–¥–∞–µ—à—å –∫–æ–º–Ω–∞—Ç—É.",
    "–°—Ç–∞—Ä–∞–π—Å—è —ç–∫–æ–Ω–æ–º–∏—Ç—å –≤–æ–¥—É –ø—Ä–∏ –º—ã—Ç—å–µ –ø–æ—Å—É–¥—ã –∏ –∑—É–±–æ–≤.",
    "–°–¥–µ–ª–∞–π —Ñ–æ—Ç–æ —Å–≤–æ–µ–≥–æ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º—É—Å–æ—Ä–∞ –∏ –ø–æ–¥–µ–ª–∏—Å—å —Å –¥—Ä—É–∑—å—è–º–∏!"
]

def main_menu():
    markup = ReplyKeyboardMarkup(resize_keyboard=True)
    markup.add(KeyboardButton("–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –æ—Ç—Ö–æ–¥–æ–≤"))
    markup.add(KeyboardButton("–°–æ–≤–µ—Ç –¥–Ω—è"))
    markup.add(KeyboardButton("–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è"))
    markup.add(KeyboardButton("–û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π"))
    return markup

@bot.message_handler(commands=['start'])
def start(message):
    bot.send_message(
        message.chat.id,
        "–ü—Ä–∏–≤–µ—Ç! –Ø –≠–∫–æ-–ë–æ—Ç üå±\n–Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—Ö–æ–¥—ã –∏ –ø–æ–ª—É—á–∞—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è!",
        reply_markup=main_menu()
    )

@bot.message_handler(func=lambda message: True)
def menu_handler(message):
    text = message.text.lower()

    if text == "—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –æ—Ç—Ö–æ–¥–æ–≤":
        msg = bot.send_message(message.chat.id, "–ù–∞–ø–∏—à–∏ –ø—Ä–µ–¥–º–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—á–µ—à—å –≤—ã–±—Ä–æ—Å–∏—Ç—å:")
        bot.register_next_step_handler(msg, sort_item)

    elif text == "—Å–æ–≤–µ—Ç –¥–Ω—è":
        tip = random.choice(eco_tips)
        bot.send_message(message.chat.id, f"–°–æ–≤–µ—Ç –¥–Ω—è: {tip}")

    elif text == "–ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è":
        subscribed_users.add(message.chat.id)
        bot.send_message(message.chat.id, "–¢—ã –ø–æ–¥–ø–∏—Å–∞–ª—Å—è –Ω–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è! ‚è∞")

    elif text == "–æ—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π":
        subscribed_users.discard(message.chat.id)
        bot.send_message(message.chat.id, "–¢—ã –æ—Ç–ø–∏—Å–∞–ª—Å—è –æ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π.")

    else:
        bot.send_message(message.chat.id, "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏ —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ –º–µ–Ω—é.", reply_markup=main_menu())

def sort_item(message):
    item = message.text.lower()
    response = waste_dict.get(item, "–ù–µ –∑–Ω–∞—é —Ç–∞–∫–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞ üòÖ –ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–π.")
    bot.send_message(message.chat.id, response, reply_markup=main_menu())

def send_daily_reminders():
    for user_id in subscribed_users:
        reminder = random.choice(daily_reminders)
        bot.send_message(user_id, reminder)
    # –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞
    Timer(86400, send_daily_reminders).start()

send_daily_reminders()

bot.polling()
